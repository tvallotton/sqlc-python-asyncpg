version: "2"
plugins:
  - name: hello_world
    wasm:
      url: file://./target/wasm32-wasip1/debug/sqlc-gen-json-wasm.wasm
      # sha256: 2ea9a7f195f517331d75d1fae65f8f38ee3d6b70f734a3fe086b382a2f66b781

sql:
  - schema: schema.sql
    queries:
      - test/*.sql
      - foo/*.sql
    engine: postgresql
    # database:
    #   uri: postgres://postgres:password@127.0.0.1:5432/dev
    gen:
      go:
        package: "tutorial"
        out: "tutorial"
        sql_package: "pgx/v5"
    codegen:
      - out: test/query
        plugin: hello_world
        options:
          package: test.query
          use_namespace: true

          types:
            geometry:
              name: shapely.Geometry
              import: import shapely
              cast: shapely.from_wkb
